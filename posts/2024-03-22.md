# Новый рантайм и новый кейс против Apple

> Внутри: оптимизация Си перестановкой строк, новый фуллстек фреймворк, публичный rolldown, font-size или безумие, ещё один js рантайм, мажорная версия сторибука, бд от astro, унификация рисовалок, require для es модулей, redis заклоузсорсился, новый лендос nodejs, типизация в реакт-компиляторе, перфоманс тс, и антимонопольный иск против Apple.

## https://twitter.com/hnasr/status/1765033649039351979

Волшебный мир Си и кешей процессора, где перестановка полей в структурах может привести к значительному улучшению перфоманса, даже в таком уже оптимизированном месте как сетевой стек linux.

---

## https://twitter.com/tannerlinsley/status/1765120904370307438

Tanner зарелизил свой фуллстек фреймворк (ну или скорее темплейт). Забавно, что он достаточно жёстко критиковал новые серверные фичи реакта. Если фреймворк станет популярным (а шансы есть, ведь остальные библиотеки от него топчик), то это будет еще один крупный фреймворк, который идет вразрез с видением реакта и nextjs.

---

## https://youtu.be/flzlEmyxMs8

Ещё один пример о том, что в js куча фич, которые никогда не пригождаются в реальной жизни, но легко подловят тебя на интервью.

---

## https://github.com/rolldown-rs/rolldown

Rolldown теперь лежит в открытом репозитории, можно наблюдать за прогрессом и ставить звёздочки. Не понимаешь кому нужен очередной бандлер, который никогда не допишут (кх-кх turbopack), вот [реклама в твиттере](https://twitter.com/jpschroeder/status/1766115866859446477) о том, что у rolldown есть все шансы быть успешным.

---

## https://phloe.co/dev/font-size

Что такое font-size в вебе? Без бутылки не разберёшься.

---

## https://news.ycombinator.com/item?id=39653718b

Пока postman тратит деньги на концерты, у него появляются конкуренты. Понятно, что обычный `curl` все ещё лучше, а collections должы быть обычным openapi, но вдруг ты пользуешься?

---

## https://wasmer.io/posts/winterjs-v1

Очередной самый быстрый (кек) рантайм для js, в этот раз полностью совместимый со спекой wintercg (кроме тех мест, где не совместим). Не понятно для кого это, но совместимость с воркерами от cloudflare звучит прикольно.

---

## https://twitter.com/storybookjs/status/1767571829365883097

Новый сторибук, ещё больше фич, которыми ты не пользуешься и конфигурации, которую тебе поддежривать. Зато проапрейдились до vite 5 и добавили новый аддон для визуального тестирования (конечно надо зарегаться в стороннем сервисе).

---

## https://astro.build/db/

Astro зарелизи свою базу данных и набор утилок для работы с ней. Прикольно, что [базируется она на форке sqlite от turso](https://astro.build/blog/astro-db-deep-dive/). Как серьезную базу данных я бы конечно использовать её не стал, но как дополнение к коллециям выглядит вкусно.

---

## https://github.com/facebook/react/pull/28491

Реакт команда прислушалась к критике о бесполезности `userFormState` и готовят к выпуску гораздо более приятный и полезный `useActionState`. На моей памяти это один из редких случаев когда публичная работа с коммьюнити привела к реальным результатам. А главное теперь не нужно засовывать этот хук внутрь детей формы, можно пользоваться им прямо в том компоненте, который форму и рендерит.

---

## https://twitter.com/RyanCarniato/status/1768127609798615296

Ryan тут разошёлся в твиттере о том, что реакт продолжает игнорировать плачевное состояние работы с состоянием и сигналы (которым в той или иной степени успешно пользуются все остальные фреймворки). Забавно, что реак, не смотря на название, это по сути последний популярный не-реактивный фреймворк.

---

## https://twitter.com/OrionReedOne/status/1768292314802201087

Существует огромное множество "рисовалок" на канве и каждая вынуждена придумать своё апи для работы с объектами. Большие игроки собрались вместе и решили попробовать подружить свои решения между собой.

---

## https://twitter.com/devongovett/status/1770312149249769670

Работа с css всегда была в руках postcss, но ситуация меняется и всё больше бандлеров и решений переходять на lightningcss. Раз за Devon, parcel вряд ли станет мейнстримом, а вот у lightningcss есть все шансы.

---

## https://twitter.com/Rich_Harris/status/1770425566631518216

Большинство spa-подобных сайтов ломаются при следующей навигации после деплоя. Хорошие сайты суют скрипты в сервис-воркер чтобы такого не случалось, некоторые фреймворки умеют такую ситуацию отлавливать и автоматически перезагружать страницу при навигации. А у vercel есть целая фича, которая помогает защититься от таких проблем при деплоях, теперь доступная всем. А что происходит с твоими открытыми страницами после релиза?

---

## https://joyeecheung.github.io/blog/2024/03/18/require-esm-in-node-js/

Почти 5 лет потребовалось чтобы nodejs научился загружать esm модули с помощью `require()`. Классный пост, о том, что в больших проектах проблемы могут быть не технические, а организационные и политические, а маленьким проектам типа bun гораздо проще двигаться и релизить фичи. В любом случае это монуметальный PR и он точно поможет в миграции на esm реальным пользователям.

---

## https://twitter.com/wesbos/status/1770534882952782306

Если думаешь, что только одна страна не шарит и блокирует сайты по ip, то не отчаивайся, вот Италия заблочила айпишник cloudflare и кучу сайтов вместе с ним. Cloudflare конечно все быстро порешали, но рекомендуют всем своим пользователям задетым блокировкой бросить в итальянское правительство по камню, чтобы им неповадно было.

---

## https://redis.com/blog/redis-adopts-dual-source-available-licensing/

Ещё одной базе данных не понравились облачные компании, которые предоставляют коробочные решения. Мало того, что это проблемы для пользователей и подрывает доверие к самой бд, но у redis ещё и отлично задокументированный протокол с конкурирующими реализациями. Обычно в погоне за деньгами базки данных сталкиваются с тем, что их просто форкают и забывают, а денег от контрибьюторов и желаения контрибьютить наоборот становится меньше. Посмотрим что случится с redis.

---

## https://nodejs.org/en

Нода переписали свой лендос на nextjs и захостили на vercel. Получилось ощутимо быстрее и приятнее (кудос за использование orama для поиска).

---

## https://www.recompiled.dev/blog/type-system/

Чего только не сделаешь чтобы не добавлять поддержку сигналов. Интересный пост о системе типов для грядущего реакт-компилятора. С одной стороны, это сильный инжереный проект с кучей нетривиальных проблем, с другой — отличная иллюстрация синдрома "изобретено не здесь, мы знаем лучше". А ты веришь в то, что новый компилятор решит все твои проблемы? А совместим ли твой код с ним?

---

## https://www.totaltypescript.com/react-apps-ts-performance

Тайп алиасы и интерфейсы в тс это одно и то же. Или не совсем? А перфоманс у них тоже одинаковый? Отличный пример как одна неаккуратная строчка может заставить тайпчекер попотеть.

---

## https://twitter.com/unusual_whales/status/1770914025112760602

Не успели Apple обрадоваться, что получилось подгадить Евросоюзу, как дома их настал ещё один сюрприз. В этот раз Штаты подали в суд на них за антимонопольные практити (олды помнят как в прошлом досталось майкрософт). Документ огромный и примеров много, но меня позабавило как в качестве одно из них используют слова из интервью Тима Кука о imessage: "<…> купите свой маме айфон".
